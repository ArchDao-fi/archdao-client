/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { proposalCreateProposal } from "../funcs/proposalCreateProposal.js";
import { proposalDeleteProposal } from "../funcs/proposalDeleteProposal.js";
import { proposalGetProposal } from "../funcs/proposalGetProposal.js";
import { proposalListProposals } from "../funcs/proposalListProposals.js";
import { proposalListStakes } from "../funcs/proposalListStakes.js";
import { proposalListTrades } from "../funcs/proposalListTrades.js";
import { proposalUpdateProposal } from "../funcs/proposalUpdateProposal.js";
import { ClientSDK, RequestOptions } from "../lib/sdks.js";
import * as components from "../models/components/index.js";
import * as operations from "../models/operations/index.js";
import { unwrapAsync } from "../types/fp.js";

export class Proposal extends ClientSDK {
  /**
   * List proposals
   *
   * @remarks
   * Returns paginated list. Drafts only visible to owner. Staking+ visible to all.
   */
  async listProposals(
    request: operations.ListProposalsRequest,
    security?: operations.ListProposalsSecurity | undefined,
    options?: RequestOptions,
  ): Promise<operations.ListProposalsResponseBody> {
    return unwrapAsync(proposalListProposals(
      this,
      request,
      security,
      options,
    ));
  }

  /**
   * Create proposal
   *
   * @remarks
   * Creates a new proposal in draft status.
   */
  async createProposal(
    request: components.CreateProposal,
    options?: RequestOptions,
  ): Promise<operations.CreateProposalResponseBody> {
    return unwrapAsync(proposalCreateProposal(
      this,
      request,
      options,
    ));
  }

  /**
   * Get proposal
   *
   * @remarks
   * Returns proposal details. Drafts only visible to owner.
   */
  async getProposal(
    id: number,
    security?: operations.GetProposalSecurity | undefined,
    options?: RequestOptions,
  ): Promise<operations.GetProposalResponseBody> {
    return unwrapAsync(proposalGetProposal(
      this,
      id,
      security,
      options,
    ));
  }

  /**
   * Update proposal
   *
   * @remarks
   * Owner can update draft proposals. Set `status: staking` to submit.
   */
  async updateProposal(
    request: operations.UpdateProposalRequest,
    options?: RequestOptions,
  ): Promise<operations.UpdateProposalResponseBody> {
    return unwrapAsync(proposalUpdateProposal(
      this,
      request,
      options,
    ));
  }

  /**
   * Delete proposal
   *
   * @remarks
   * Soft delete. Owner or admin can delete draft/staking proposals.
   */
  async deleteProposal(
    id: number,
    options?: RequestOptions,
  ): Promise<operations.DeleteProposalResponseBody> {
    return unwrapAsync(proposalDeleteProposal(
      this,
      id,
      options,
    ));
  }

  /**
   * List stakes
   *
   * @remarks
   * Returns paginated list of stakes for a proposal.
   */
  async listStakes(
    request: operations.ListStakesRequest,
    security?: operations.ListStakesSecurity | undefined,
    options?: RequestOptions,
  ): Promise<operations.ListStakesResponseBody> {
    return unwrapAsync(proposalListStakes(
      this,
      request,
      security,
      options,
    ));
  }

  /**
   * List trades
   *
   * @remarks
   * Returns paginated list of trades for a proposal's decision markets.
   */
  async listTrades(
    request: operations.ListTradesRequest,
    security?: operations.ListTradesSecurity | undefined,
    options?: RequestOptions,
  ): Promise<operations.ListTradesResponseBody> {
    return unwrapAsync(proposalListTrades(
      this,
      request,
      security,
      options,
    ));
  }
}
