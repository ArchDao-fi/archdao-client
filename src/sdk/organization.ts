/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { organizationActivateRaise } from "../funcs/organizationActivateRaise.js";
import { organizationChangeOrganizationStatus } from "../funcs/organizationChangeOrganizationStatus.js";
import { organizationCreateOrganization } from "../funcs/organizationCreateOrganization.js";
import { organizationEditOrganization } from "../funcs/organizationEditOrganization.js";
import { organizationGetOrganization } from "../funcs/organizationGetOrganization.js";
import { organizationListOrganizations } from "../funcs/organizationListOrganizations.js";
import { ClientSDK, RequestOptions } from "../lib/sdks.js";
import { OrganizationResponse } from "../models/components/organizationresponse.js";
import { PaginatedOrganizations } from "../models/components/paginatedorganizations.js";
import { ChangeOrganizationStatusRequestBody } from "../models/operations/changeorganizationstatus.js";
import { CreateOrganizationRequestBody } from "../models/operations/createorganization.js";
import { EditOrganizationRequestBody } from "../models/operations/editorganization.js";
import {
  GetOrganizationResponseBody,
  GetOrganizationSecurity,
} from "../models/operations/getorganization.js";
import {
  ListOrganizationsRequest,
  ListOrganizationsSecurity,
} from "../models/operations/listorganizations.js";
import { unwrapAsync } from "../types/fp.js";

export class Organization extends ClientSDK {
  /**
   * List organizations
   *
   * @remarks
   * Returns a paginated list of organizations. Visibility varies by authentication status and role.
   *
   * **Searchable fields:** `name`, `description`
   *
   * **Default search field:** `name`
   */
  async listOrganizations(
    request: ListOrganizationsRequest,
    security?: ListOrganizationsSecurity | undefined,
    options?: RequestOptions,
  ): Promise<PaginatedOrganizations> {
    return unwrapAsync(organizationListOrganizations(
      this,
      request,
      security,
      options,
    ));
  }

  /**
   * Create organization
   *
   * @remarks
   * Creates a new organization (external or ICO type). Uses multipart/form-data for image uploads.
   *
   * **Error Codes:** `VALIDATION_ERROR`, `INVALID_ORG_TYPE`, `INVALID_TOKEN`, `EXPIRED_TOKEN`
   */
  async createOrganization(
    request: CreateOrganizationRequestBody,
    options?: RequestOptions,
  ): Promise<OrganizationResponse> {
    return unwrapAsync(organizationCreateOrganization(
      this,
      request,
      options,
    ));
  }

  /**
   * Get organization by slug
   *
   * @remarks
   * Returns full organization details including proposals. For ICO organizations, also includes raise data.
   *
   * **Error Codes:** `ORGANIZATION_NOT_FOUND`, `NOT_AUTHORIZED`
   */
  async getOrganization(
    slug: string,
    security?: GetOrganizationSecurity | undefined,
    options?: RequestOptions,
  ): Promise<GetOrganizationResponseBody> {
    return unwrapAsync(organizationGetOrganization(
      this,
      slug,
      security,
      options,
    ));
  }

  /**
   * Edit organization
   *
   * @remarks
   * Admin-only endpoint to edit organization details.
   *
   * **Error Codes:** `VALIDATION_ERROR`, `ORGANIZATION_NOT_FOUND`, `NOT_AUTHORIZED`, `INVALID_TOKEN`
   */
  async editOrganization(
    id: number,
    requestBody?: EditOrganizationRequestBody | undefined,
    options?: RequestOptions,
  ): Promise<OrganizationResponse> {
    return unwrapAsync(organizationEditOrganization(
      this,
      id,
      requestBody,
      options,
    ));
  }

  /**
   * Change organization status
   *
   * @remarks
   * Admin-only endpoint to approve, reject, or activate organizations.
   *
   * **Error Codes:** `VALIDATION_ERROR`, `INVALID_STATUS_TRANSITION`, `ORGANIZATION_NOT_FOUND`, `NOT_AUTHORIZED`, `INVALID_TOKEN`
   */
  async changeOrganizationStatus(
    id: number,
    requestBody: ChangeOrganizationStatusRequestBody,
    options?: RequestOptions,
  ): Promise<OrganizationResponse> {
    return unwrapAsync(organizationChangeOrganizationStatus(
      this,
      id,
      requestBody,
      options,
    ));
  }

  /**
   * Activate raise
   *
   * @remarks
   * Admin-only endpoint to activate the raise for ICO organizations. Raise starts immediately with duration from system settings.
   *
   * **Error Codes:** `VALIDATION_ERROR`, `INVALID_STATUS_TRANSITION`, `ORGANIZATION_NOT_FOUND`, `RAISE_NOT_FOUND`, `NOT_AUTHORIZED`, `INVALID_TOKEN`
   */
  async activateRaise(
    id: number,
    options?: RequestOptions,
  ): Promise<OrganizationResponse> {
    return unwrapAsync(organizationActivateRaise(
      this,
      id,
      options,
    ));
  }
}
